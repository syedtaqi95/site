---
import Layout from "@/layouts/Layout.astro";
import clsx from "clsx";
import { getCollection } from "astro:content";

const blogEntries = await getCollection("blog");
---

<Layout title="Syed Taqi Haider | Blog">
  <article>
    <h2
      class={clsx(
        "text-3xl font-semibold my-12",
        "after:block after:relative after:-top-5 after:ml-44",
        "after:max-w-full after:h-0.5",
        "after:bg-gradient-to-r after:from-blue-500 after:to-fuchsia-600",
        "after:-z-10"
      )}
    >
      Blog Posts
    </h2>
    {
      blogEntries.map((entry) => (
        <a href={`/blog/${entry.slug}`}>
          <section class="p-4 bg-slate-200 dark:bg-light-navy rounded-xl">
            <h3 class="font-bold text-xl">{entry.data.title}</h3>
            <p class="italic text-sm">{entry.data.published.toDateString()}</p>
            <p class="mt-8">{entry.data.description}</p>
          </section>
        </a>
      ))
    }
  </article>
</Layout>
